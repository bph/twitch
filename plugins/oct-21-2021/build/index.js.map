{"version":3,"file":"index.js","mappings":"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","sources":["webpack://oct-21-2021/./node_modules/@wordpress/icons/build-module/icon/index.js","webpack://oct-21-2021/./node_modules/@wordpress/icons/build-module/library/check.js","webpack://oct-21-2021/./node_modules/@wordpress/icons/build-module/library/close-small.js","webpack://oct-21-2021/./src/categoriesDisplay.js","webpack://oct-21-2021/./src/constants..js","webpack://oct-21-2021/./src/featuredImageDisplay.js","webpack://oct-21-2021/./src/wordCountDisplay.js","webpack://oct-21-2021/external window [\"wp\",\"blocks\"]","webpack://oct-21-2021/external window [\"wp\",\"data\"]","webpack://oct-21-2021/external window [\"wp\",\"editPost\"]","webpack://oct-21-2021/external window [\"wp\",\"element\"]","webpack://oct-21-2021/external window [\"wp\",\"i18n\"]","webpack://oct-21-2021/external window [\"wp\",\"plugins\"]","webpack://oct-21-2021/external window [\"wp\",\"primitives\"]","webpack://oct-21-2021/external window [\"wp\",\"wordcount\"]","webpack://oct-21-2021/webpack/bootstrap","webpack://oct-21-2021/webpack/runtime/compat get default export","webpack://oct-21-2021/webpack/runtime/define property getters","webpack://oct-21-2021/webpack/runtime/hasOwnProperty shorthand","webpack://oct-21-2021/webpack/runtime/make namespace object","webpack://oct-21-2021/./src/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\n\nfunction Icon({\n  icon,\n  size = 24,\n  ...props\n}) {\n  return cloneElement(icon, {\n    width: size,\n    height: size,\n    ...props\n  });\n}\n\nexport default Icon;\n//# sourceMappingURL=index.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst check = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\"\n}));\nexport default check;\n//# sourceMappingURL=check.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst closeSmall = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\"\n}));\nexport default closeSmall;\n//# sourceMappingURL=close-small.js.map","import { Icon, check, closeSmall } from '@wordpress/icons';\n\nconst CategoriesDisplay = ({ categories }) => {\n\tconst locked = !categories.length || categories.includes(1);\n\n\tconst generateMessage = () => {\n\t\tif (locked) {\n\t\t\tif (!categories.length) {\n\t\t\t\treturn 'Please assign a category.';\n\t\t\t}\n\n\t\t\tif (categories.includes(1)) {\n\t\t\t\treturn 'Categories cannot include Uncategorized';\n\t\t\t}\n\t\t}\n\t\treturn 'Categories assigned correctly';\n\t};\n\treturn (\n\t\t<div style={{ display: 'flex' }}>\n\t\t\t{!locked && <Icon icon={check} />}\n\t\t\t{locked && <Icon icon={closeSmall} />}\n\t\t\t<span style={{ marginTop: '3px' }}>{generateMessage()}</span>\n\t\t</div>\n\t);\n};\n\nexport default CategoriesDisplay;\n","const REQUIRED_WORD_COUNT = 250;\n\nexport { REQUIRED_WORD_COUNT };\n","import { Icon, check, closeSmall } from '@wordpress/icons';\n\nconst FeaturedImageDisplay = ({ featuredImageID }) => {\n\tconst locked = featuredImageID === 0;\n\treturn (\n\t\t<div style={{ display: 'flex' }}>\n\t\t\t{!locked && <Icon icon={check} />}\n\t\t\t{locked && <Icon icon={closeSmall} />}\n\t\t\t<span style={{ marginTop: '3px' }}>{`Featured Image`}</span>\n\t\t</div>\n\t);\n};\n\nexport default FeaturedImageDisplay;\n","import { Icon, check, closeSmall } from '@wordpress/icons';\nconst WordCountDisplayComponent = ({ wordCount, required }) => {\n\tconst locked = wordCount < required;\n\treturn (\n\t\t<div style={{ display: 'flex' }}>\n\t\t\t{!locked && <Icon icon={check} />}\n\t\t\t{locked && <Icon icon={closeSmall} />}\n\t\t\t<span\n\t\t\t\tstyle={{ marginTop: '3px' }}\n\t\t\t>{`WordCount: ${wordCount}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default WordCountDisplayComponent;\n","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"wordcount\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable import/no-extraneous-dependencies */\n/* eslint-disable import/no-unresolved */\n/**\n * WordPress dependencies\n */\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport { registerPlugin } from '@wordpress/plugins';\nimport {\n\tPluginDocumentSettingPanel,\n\tPluginPrePublishPanel,\n} from '@wordpress/edit-post';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { count } from '@wordpress/wordcount';\nimport { serialize } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport WordCountDisplayComponent from './wordCountDisplay';\nimport FeaturedImageDisplay from './featuredImageDisplay';\nimport CategoriesDisplay from './categoriesDisplay';\nimport { REQUIRED_WORD_COUNT } from './constants.';\n\nconst Render = () => {\n\tconst [wordCountDisplay, setWordCountDisplay] = useState('');\n\n\t// The useSelect hook is better for retrieving data from the store.\n\tconst { blocks, cats, tags, featuredImageID } = useSelect((select) => {\n\t\treturn {\n\t\t\tblocks: select('core/block-editor').getBlocks(),\n\t\t\tcats: select('core/editor').getEditedPostAttribute('categories'),\n\t\t\ttags: select('core/editor').getEditedPostAttribute('tags'),\n\t\t\tfeaturedImageID:\n\t\t\t\tselect('core/editor').getEditedPostAttribute('featured_media'),\n\t\t};\n\t});\n\n\t// The useDispatch hook is better for dispatching actions.\n\tconst {\n\t\tlockPostSaving,\n\t\tunlockPostSaving,\n\t\tenablePublishSidebar,\n\t\tdisablePublishSidebar,\n\t} = useDispatch('core/editor');\n\n\tuseEffect(() => {\n\t\t// Assume the best.\n\t\tlet lockPost = false;\n\n\t\t// Get the WordCount\n\t\tconst wordCount = count(\n\t\t\tserialize(\n\t\t\t\tblocks.filter((block) => block.name === 'core/paragraph') // only allow paragraphs\n\t\t\t),\n\t\t\t'words'\n\t\t);\n\t\tsetWordCountDisplay(wordCount);\n\t\tif (wordCount < REQUIRED_WORD_COUNT) {\n\t\t\t// If the word count is less than 250, lock the post saving.\n\t\t\tlockPost = true;\n\t\t}\n\t\t// Does the post have a featured image?\n\t\tif (featuredImageID === 0) {\n\t\t\tlockPost = true;\n\t\t}\n\n\t\t// Check that there a category assigned to the post.\n\t\tif (!cats.length || cats.includes(1)) {\n\t\t\tlockPost = true;\n\t\t}\n\n\t\t// Lock or enable saving\n\t\tif (lockPost === true) {\n\t\t\tlockPostSaving();\n\t\t\tdisablePublishSidebar();\n\t\t} else {\n\t\t\tunlockPostSaving();\n\t\t\tenablePublishSidebar();\n\t\t}\n\t}, [blocks, featuredImageID, cats]);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<PluginDocumentSettingPanel\n\t\t\t\tname=\"prepublish-checklist\"\n\t\t\t\ttitle={__('Prepublish Checklist', 'oct-21-2021')}\n\t\t\t\tclassName=\"prepublish-checklist\"\n\t\t\t>\n\t\t\t\t<WordCountDisplayComponent\n\t\t\t\t\twordCount={wordCountDisplay}\n\t\t\t\t\trequired={REQUIRED_WORD_COUNT}\n\t\t\t\t/>\n\t\t\t\t<FeaturedImageDisplay featuredImageID={featuredImageID} />\n\t\t\t\t<CategoriesDisplay categories={cats} />\n\t\t\t</PluginDocumentSettingPanel>\n\t\t\t<PluginPrePublishPanel>\n\t\t\t\t<WordCountDisplayComponent\n\t\t\t\t\twordCount={wordCountDisplay}\n\t\t\t\t\trequired={REQUIRED_WORD_COUNT}\n\t\t\t\t/>\n\t\t\t\t<FeaturedImageDisplay featuredImageID={featuredImageID} />\n\t\t\t\t<CategoriesDisplay categories={cats} />\n\t\t\t</PluginPrePublishPanel>\n\t\t</Fragment>\n\t);\n};\nregisterPlugin('twitchstreams-prepublish', {\n\ticon: 'forms',\n\trender: Render,\n});\n"],"names":["Icon","check","closeSmall","CategoriesDisplay","categories","locked","length","includes","generateMessage","display","marginTop","REQUIRED_WORD_COUNT","FeaturedImageDisplay","featuredImageID","WordCountDisplayComponent","wordCount","required","Fragment","useEffect","useState","registerPlugin","PluginDocumentSettingPanel","PluginPrePublishPanel","__","useSelect","useDispatch","count","serialize","Render","wordCountDisplay","setWordCountDisplay","blocks","cats","tags","select","getBlocks","getEditedPostAttribute","lockPostSaving","unlockPostSaving","enablePublishSidebar","disablePublishSidebar","lockPost","filter","block","name","icon","render"],"sourceRoot":""}