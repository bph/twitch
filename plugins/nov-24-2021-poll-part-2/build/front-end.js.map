{"version":3,"file":"front-end.js","mappings":";;;;;AAAA,CAAC,YAAY;AACZ,QAAMA,WAAW,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,cAA1B,CAApB;AACA,QAAMC,QAAQ,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAjB;;AAEA,QAAME,cAAc,GAAIC,OAAD,IAAa;AACnC,UAAMC,cAAc,GAAGL,QAAQ,CAACM,aAAT,CAAuB,UAAvB,CAAvB;AACAD,IAAAA,cAAc,CAACE,WAAf,GAA6BH,OAA7B;AACA,GAHD;;AAKA,QAAMI,cAAc,GAAIC,UAAD,IAAgB;AACtCA,IAAAA,UAAU,CAACC,OAAX,CAAoBC,MAAD,IAAYA,MAAM,CAACC,YAAP,CAAoB,UAApB,EAAgC,IAAhC,CAA/B;AACA,GAFD;;AAIA,QAAMC,YAAY,GAAIF,MAAD,IAAY;AAChC,UAAMG,OAAO,GAAGH,MAAM,CAACI,kBAAP,CAA0BA,kBAA1C;AACA,UAAMC,YAAY,GAAGF,OAAO,CAACG,YAAR,CAAqB,YAArB,CAArB;AACAH,IAAAA,OAAO,CAACF,YAAR,CAAqB,YAArB,EAAmCM,MAAM,CAACF,YAAD,CAAN,GAAuB,CAA1D;AACAG,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqC,IAArC;AACA,GALD;;AAOA,QAAMC,cAAc,GAAIC,IAAD,IAAU;AAChC;AACA,UAAMC,UAAU,GAAGC,KAAK,CAACC,IAAN,CAAWH,IAAX,EAAiBI,MAAjB,CAAwB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AAC9D,aAAOD,KAAK,GAAGV,MAAM,CAACW,OAAO,CAACZ,YAAR,CAAqB,YAArB,CAAD,CAArB;AACA,KAFkB,EAEhB,CAFgB,CAAnB,CAFgC,CAMhC;;AACAM,IAAAA,IAAI,CAACb,OAAL,CAAcoB,GAAD,IAAS;AACrB,YAAMC,KAAK,GAAGD,GAAG,CAACb,YAAJ,CAAiB,YAAjB,CAAd;AACAa,MAAAA,GAAG,CAACE,KAAJ,CAAUC,KAAV,GAAmBF,KAAK,GAAGP,UAAT,GAAuB,GAAvB,GAA6B,GAA/C;AACA,KAHD;AAIA,GAXD,CApBY,CAiCZ;;;AACAF,EAAAA,cAAc,CAACpB,QAAD,CAAd,CAlCY,CAoCZ;;AACA,MAAI,CAACiB,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,OAA5B,CAAL,EAA2C;AAC1CnC,IAAAA,WAAW,CAACW,OAAZ,CAAqBC,MAAD,IAAY;AAC/BA,MAAAA,MAAM,CAACwB,gBAAP,CAAwB,OAAxB,EAAiC,MAAM;AACtC;AACAtB,QAAAA,YAAY,CAACF,MAAD,CAAZ,CAFsC,CAGtC;;AACAH,QAAAA,cAAc,CAACT,WAAD,CAAd,CAJsC,CAKtC;;AACAuB,QAAAA,cAAc,CAACpB,QAAD,CAAd,CANsC,CAOtC;;AACAC,QAAAA,cAAc,CAAC,oBAAD,CAAd;AACA,OATD;AAUA,KAXD;AAYA,GAbD,MAaO;AACNK,IAAAA,cAAc,CAACT,WAAD,CAAd;AACAI,IAAAA,cAAc,CAAC,8BAAD,CAAd;AACA;AACD,CAtDD,I","sources":["webpack://nov-24-2021-poll-part-2/./assets/js/front-end.js"],"sourcesContent":["(function () {\n\tconst voteButtons = document.querySelectorAll('.vote-button');\n\tconst voteBars = document.querySelectorAll('.vote-bar');\n\n\tconst displayMessage = (message) => {\n\t\tconst messageElement = document.querySelector('.message');\n\t\tmessageElement.textContent = message;\n\t};\n\n\tconst disableButtons = (buttonList) => {\n\t\tbuttonList.forEach((button) => button.setAttribute('disabled', true));\n\t};\n\n\tconst registerVote = (button) => {\n\t\tconst voteBar = button.nextElementSibling.nextElementSibling;\n\t\tconst currentCount = voteBar.getAttribute('data-count');\n\t\tvoteBar.setAttribute('data-count', Number(currentCount) + 1);\n\t\twindow.localStorage.setItem('voted', true);\n\t};\n\n\tconst renderPollBars = (bars) => {\n\t\t// Get the total value of all votes\n\t\tconst totalVotes = Array.from(bars).reduce((value, element) => {\n\t\t\treturn value + Number(element.getAttribute('data-count'));\n\t\t}, 0);\n\n\t\t// display the percentages\n\t\tbars.forEach((bar) => {\n\t\t\tconst count = bar.getAttribute('data-count');\n\t\t\tbar.style.width = (count / totalVotes) * 100 + '%';\n\t\t});\n\t};\n\n\t// Render the bars\n\trenderPollBars(voteBars);\n\n\t// check to see if the user has already voted\n\tif (!window.localStorage.getItem('voted')) {\n\t\tvoteButtons.forEach((button) => {\n\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\t// 1. Register a vote\n\t\t\t\tregisterVote(button);\n\t\t\t\t// 2. Disable the buttons\n\t\t\t\tdisableButtons(voteButtons);\n\t\t\t\t// 3. Redraw the vote bars\n\t\t\t\trenderPollBars(voteBars);\n\t\t\t\t// 4. Display the message\n\t\t\t\tdisplayMessage('Thanks for voting!');\n\t\t\t});\n\t\t});\n\t} else {\n\t\tdisableButtons(voteButtons);\n\t\tdisplayMessage('Looks like you already voted');\n\t}\n})();\n"],"names":["voteButtons","document","querySelectorAll","voteBars","displayMessage","message","messageElement","querySelector","textContent","disableButtons","buttonList","forEach","button","setAttribute","registerVote","voteBar","nextElementSibling","currentCount","getAttribute","Number","window","localStorage","setItem","renderPollBars","bars","totalVotes","Array","from","reduce","value","element","bar","count","style","width","getItem","addEventListener"],"sourceRoot":""}